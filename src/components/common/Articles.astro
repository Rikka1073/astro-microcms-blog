---
import Card from "../Card.astro";

const accessToken = import.meta.env.QIITA_API_ACCESS_TOKEN;
const response = await fetch(`https://qiita.com/api/v2/authenticated_user/items?page=1&per_page=20`, {
  headers: {
    Authorization: `Bearer ${accessToken}`,
  },
});
const articles = await response.json();
console.log("記事データ", articles);
---

<div class="p-5 sm:grid sm:grid-cols-2 md:p-10 md:grid-cols-3 sm:gap-5 lg:grid-cols-4">
  {articles.map((article: any) => <Card title={article.title} tags={article.tags} url={article.url} />)}
</div>
